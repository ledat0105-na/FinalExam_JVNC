<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Phân quyền | UCOP</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body class="admin-page">
    <!-- Navbar Fragment -->
    <div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card">
                <div class="card-header bg-white border-bottom p-4">
                    <h4 class="fw-bold mb-1">Phân quyền tài khoản</h4>
                    <p class="text-muted small mb-0">Thiết lập vai trò truy cập cho <strong class="text-dark" th:text="${account.username}">User</strong></p>
                </div>
                <div class="card-body p-4">
                    <form th:action="@{/admin/accounts/{id}/roles(id=${account.accountId})}" method="post">
                        <label class="form-label fw-bold mb-3">Chọn vai trò:</label>

                        <div class="role-option d-flex align-items-center">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="roleCodes" value="ADMIN" id="roleAdmin" th:checked="${account.roleCodes.contains('ADMIN')}">
                                <label class="form-check-label ps-2" for="roleAdmin">
                                    <span class="badge bg-danger bg-opacity-10 text-danger me-2">ADMIN</span>
                                    <span class="small text-muted">Quản trị viên (Toàn quyền hệ thống)</span>
                                </label>
                            </div>
                        </div>

                        <div class="role-option d-flex align-items-center">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="roleCodes" value="STAFF" id="roleStaff" th:checked="${account.roleCodes.contains('STAFF')}">
                                <label class="form-check-label ps-2" for="roleStaff">
                                    <span class="badge bg-warning bg-opacity-10 text-warning me-2">STAFF</span>
                                    <span class="small text-muted">Nhân viên (Quyền vận hành, hạn chế)</span>
                                </label>
                            </div>
                        </div>

                        <div class="role-option d-flex align-items-center">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="roleCodes" value="CUSTOMER" id="roleCustomer" th:checked="${account.roleCodes.contains('CUSTOMER')}">
                                <label class="form-check-label ps-2" for="roleCustomer">
                                    <span class="badge bg-info bg-opacity-10 text-info me-2">CUSTOMER</span>
                                    <span class="small text-muted">Khách hàng (Quyền xem cơ bản)</span>
                                </label>
                            </div>
                        </div>

                        <div class="d-flex justify-content-between mt-4">
                            <a href="/admin/accounts" class="btn btn-light text-muted">Hủy bỏ</a>
                            <button type="submit" class="btn btn-primary px-4">Lưu thay đổi</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

